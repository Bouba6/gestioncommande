@model IEnumerable<gestioncommande.Models.Produit>



@{
    Layout = "_layout";
}

<main class=" ">


    <div class="relative bg-gray-100 shadow-lg rounded-lg overflow-hidden">
        <!-- Image de la bannière -->
        <img src="/image/e52008c9-8951-4e10-8ca8-a1c8f25cae0f.webp" alt="Bannière de produits"
            class="w-full h-48 object-cover" />

        <!-- Texte au-dessus de l'image -->
        <div class="absolute inset-0 bg-black bg-opacity-40 flex items-center justify-center">
            <h1 class="text-white text-3xl md:text-4xl font-bold drop-shadow-lg">
                Découvrez nos Produits !
            </h1>
        </div>
    </div>





    <!-- Grid layout -->
    <div
        class="mt-6 grid grid-cols-1 gap-x-6 gap-y-10 sm:grid-cols-2 p-2 md:grid-cols-3 lg:grid-cols-4 rounded-md bg-gray-100 xl:grid-cols-4 xl:gap-x-8 mx-auto">
        @foreach (var item in Model)
        {


            /* From Uiverse.io by Javierrocadev */
            <form method="post" name="formProduct"
                class="form-product w-full max-w-sm bg-white rounded-2xl shadow-lg hover:shadow-xl transition-shadow  duration-300 overflow-hidden">
                <!-- Image Container -->
                <input type="hidden" name="id" class="id" value="@item.Id" />
                <div class="relative h-52 w-full overflow-hidden">
                    <img src="@item.FileName" alt="@item.Libelle"
                        class="w-full h-full object-cover transform hover:scale-110 transition-transform duration-500">
                    <div class="absolute top-3 left-3 bg-red-500 text-white text-xs px-3 py-1 rounded-full shadow-md">
                        Nouveau
                    </div>
                </div>

                <!-- Content Container -->
                <div class="p-5 space-y-4">
                    <!-- Product Info -->
                    <div class="flex justify-between items-start">
                        <div class="space-y-1">
                            <h3 class="text-lg font-bold text-gray-800 line-clamp-2">
                                @Html.DisplayFor(modelItem => item.Libelle)
                            </h3>
                            <p class="text-xs text-gray-500 font-medium">ID: 23432252</p>
                        </div>
                        <span class="text-xl font-bold text-red-600">
                            @Html.DisplayFor(modelItem => item.Prix)€
                        </span>
                    </div>
                </div>

                @* @if (User.IsInRole("RS") == true)
                {


                    <div class="flex justify-center gap-6 mb-4">
                        <a asp-action="Edit" asp-route-id="@item.Id"
                            class="p-2 rounded-xl bg-blue-50 text-blue-600 hover:bg-blue-100 transition-colors">
                            <svg class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" />
                            </svg>
                        </a>
                        <a asp-action="Details" asp-route-id="@item.Id"
                            class="p-2 rounded-xl bg-green-50 text-green-600 hover:bg-green-100 transition-colors">
                            <svg class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z" />
                            </svg>
                        </a>
                        <a asp-action="Delete" asp-route-id="@item.Id"
                            class="p-2 rounded-xl bg-red-50 text-red-600 hover:bg-red-100 transition-colors">
                            <svg class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" />
                            </svg>
                        </a>
                    </div>

                }



                @if (User.IsInRole("CLIENT") == true)
                {
                    <div class="flex  pl-2 pr-2 pb-2 justify-center w-full">
                        <div class="w-full flex justify-center items-center">
                            <input type="hidden" name="productId" value="@item.Id" />
                            <button type="button" onclick="addToCartjs(event, @item.Id)" class="w-full h-10 p-4 bg-orange1 hover:bg-orange1 text-white text-sm rounded-lg font-medium
                            transition-all duration-200 flex items-center justify-center gap-2 group">
                                <svg xmlns="http://www.w3.org/2000/svg"
                                    class="w-7 h-7  transform group-hover:scale-110 transition-transform duration-200"
                                    fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z" />
                                </svg>
                                <span class="whitespace-nowrap">Ajouter au panier</span>
                            </button>
                        </div>
                    </div>

                } *@
            </form>

        }
    </div>

    @if (ViewBag.TotalPages > 1)
    {
        <div class="mt-4 flex justify-center items-center space-x-4">
            @if (ViewBag.CurrentPage > 1)
            {
                <a asp-action="Index" asp-route-pageNumber="@(ViewBag.CurrentPage - 1)" asp-route-pageSize="3"
                    class="px-3 py-2 bg-blue-600 text-white rounded hover:bg-blue-500">
                    Précédent
                </a>
            }

            @for (int i = 1; i <= ViewBag.TotalPages; i++)
            {
                <a asp-action="Index" asp-route-pageNumber="@i" asp-route-pageSize="@(ViewBag.PageSize)"
                    class="px-3 py-2 @(i == ViewBag.CurrentPage ? "bg-blue-600 text-white" : "bg-gray-200 text-gray-700") rounded hover:bg-blue-500">
                    @i
                </a>
            }


            @if (ViewBag.CurrentPage < ViewBag.TotalPages)
            {
                <a asp-action="Index" asp-route-pageNumber="@(ViewBag.CurrentPage + 1)" asp-route-pageSize="3"
                    class="px-3 py-2 bg-blue-600 text-white rounded hover:bg-blue-500">
                    Suivant
                </a>
            }
        </div>
    }

    @* <div class="p-4  flex ">
        <button class="mb-6 px-4 bg-blue-600  font-bold">
            <a asp-action="Create" class="bg-darkinto text-or px-4 py-2 rounded hover:bg-white flex items-center">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                    stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                    class="lucide lucide-plus mr-2 font-bold">
                    <path d="M12 5v14M5 12h14" />
                </svg>
                Create New
            </a>
        </button>
    </div> *@
</main>

@* <script src="~/js/Produit.js"></script> *@

<script src="~/js/ProduitIndex.js"></script>
